import{E as e}from"./shared-import-splide.esm.bundle.min.js";function t(t){const{on:i,off:o,bind:n,unbind:r}=e(t);function d(e){const i=t.Components.Slides.filter((t=>t.slide.dataset.mediaId===e.toString()));i.length&&t.go(i[0].index)}function a(e){const i=t.Components.Slides.getAt(e);if(!i)return;const o=i.slide;let n=o.querySelector("[data-product-single-media-wrapper]").offsetHeight;if(t.root.hasAttribute("data-two-slides-visible-on-mobile")&&window.matchMedia("(max-width: 989px").matches){const e=o.nextElementSibling;if(null!==e){const t=e.querySelector("[data-product-single-media-wrapper]").offsetHeight;n=t>n?t:n}}t.root.querySelector(".splide__track").style.maxHeight=n+"px"}t.root.addEventListener("click",(e=>{e.target.classList.contains("splide__pagination__page")&&(t.paginationClicked=!0)})),n(document.body,"shapes:product:variantchange",(e=>{if(!e.target.contains(t.root))return;d(e.detail.variant.featured_media.id)}));const s=debounce((e=>{a(t.index)}),150);function c(){t.root.querySelectorAll("[inert]").forEach((e=>{e.removeAttribute("inert")})),t.root.querySelectorAll("[aria-hidden]").forEach((e=>{e.removeAttribute("aria-hidden")})),r(document.body,"shapes:product:variantchange")}function l(){t.Components.Slides.get().forEach((e=>{const t=e.slide;t.matches(".is-visible")?t.removeAttribute("inert"):t.setAttribute("inert","")}))}function u(){t.root.dataset.firstMedia&&d(t.root.dataset.firstMedia),a(t.index)}function m(e,i){const o=t.Components.Slides,n=o.getAt(i).slide.querySelector("[data-product-single-media-wrapper]"),r=o.getAt(e).slide.querySelector("[data-product-single-media-wrapper]");n&&n.dispatchEvent(new CustomEvent("mediaHidden")),r&&r.dispatchEvent(new CustomEvent("mediaVisible"))}function p(e){a(e)}return n(window,"resize",s),{mount(){i("mounted",u),i("mounted moved",l),i("moved",m),i("move",p),i("destroy",c)}}}export{t as SplideProduct};
